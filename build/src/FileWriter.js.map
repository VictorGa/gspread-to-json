{"version":3,"sources":["../../develop/src/FileWriter.js"],"names":[],"mappings":";;;;;;;AAAA,IAAI,QAAQ,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAC;AAC5C,IAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACvB,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC3B,IAAI,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;;;;;;;;AAQxB,SAAS,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAE,MAAM,EAC5C;KAD8C,IAAI,yDAAG,MAAM,CAAC,MAAM,CAAC,QAAQ;;AAE1E,KAAI,OAAO,IAAI,KAAK,WAAW,EAAE,IAAI,GAAG,IAAI,CAAC;;AAE7C,KAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AAC3C,KAAI,GAAG,GAAG,IAAI,GAAG,MAAM,GAAG,GAAG,GAAG,QAAQ,GAAG,OAAO,CAAC;AACnD,KAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;;AAEhC,OAAM,CAAC,OAAO,EAAE,UAAC,GAAG,EAAK;AACxB,MAAG,GAAG,EACN;AACC,UAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;GACjB,MAED;;AAEC,UAAO,CAAC,GAAG,yBAAuB,GAAG,CAAG,CAAC;AACzC,KAAE,CAAC,aAAa,CAAC,GAAG,EAAE,MAAM,EAAE,EAAC,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAC,CAAC,CAAC;GAC3D;EACD,CAAC,CAAC;;AAEH,QAAO,EAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,QAAQ,GAAG,OAAO,EAAC,CAAC;CAC7C;;AAAA,CAAC;;;;;;;AAMK,SAAS,QAAQ,CAAC,KAAK,EAC9B;KADgC,MAAM,yDAAG,EAAE;;AAE1C,KAAI,IAAI,GAAG,EAAE,CAAC;AACd,OAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAA,QAAQ,EACnC;AACC,MAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,QAAQ,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;EACpD,CAAC,CAAC;;AAEH,QAAO,IAAI,CAAC;CACZ;;AAAA,CAAC","file":"FileWriter.js","sourcesContent":["var sanitize = require(\"sanitize-filename\");\r\nvar fs = require('fs');\r\nvar path = require('path');\r\nvar mkdirp = require('mkdirp');\r\n\r\n/**\r\n * Write a json file to destination\r\n * @param fileName\r\n * @param data\r\n * @param base\r\n */\r\nexport function write(fileName, data, folder, base = GLOBAL.config.savePath)\r\n{\r\n\tif (typeof base === 'undefined') base = './';\r\n\r\n\tlet output = JSON.stringify(data, null, 2);\r\n\tlet url = base + folder + '/' + fileName + '.json';\r\n\tlet dirname = path.dirname(url);\r\n\r\n\tmkdirp(dirname, (err) => {\r\n\t\tif(err)\r\n\t\t{\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t//console.log(`Creating file for: ${url}`.underline.bold.blue);\r\n\t\t\tconsole.log(`Creating file for: ${url}`);\r\n\t\t\tfs.writeFileSync(url, output, {encoding: config.encoding});\r\n\t\t}\r\n\t});\r\n\r\n\treturn {path: url, name: fileName + '.json'};\r\n};\r\n\r\n/**\r\n * Create json files\r\n * @param files\r\n */\r\nexport function writeAll(files, folder = '')\r\n{\r\n\tlet urls = [];\r\n\tObject.keys(files).forEach(fileName =>\r\n\t{\r\n\t\turls.push(write(fileName, files[fileName], folder));\r\n\t});\r\n\r\n\treturn urls;\r\n};\r\n\r\n"]}