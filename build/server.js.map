{"version":3,"sources":["../develop/server.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;uBAES,YAAY;;AAElC,IAAI,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACjC,IAAI,GAAG,GAAG,OAAO,EAAE,CAAC;AACpB,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACnC,IAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;;AAEvB,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC;;AAGrC,GAAG,CAAC,GAAG,CAAC,YAAY,EAAE,UAAS,GAAG,EAAE,GAAG,EACvC;AACC,QAAO,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;AAC3B,KAAI,WAAW,GAAG,CAAC,EAAC,EAAE,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK,EAAC,CAAC,CAAC;;;AAG1E,IAAG,CAAC,SAAS,CAAC,GAAG,EAAE;AAClB,gBAAc,EAAE,iBAAiB;AACjC,uBAAqB,EAAE,iCAAiC;EACxD,CAAC,CAAC;;AAEH,KAAI,GAAG,GAAG,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;;;AAG9B,IAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;AAEd,uBAAQ,WAAW,EAAE,UAAC,QAAQ,EAAG;AAChC,SAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACtB,UAAQ,CAAC,OAAO,CAAC,UAAA,IAAI,EAAI;AACxB,MAAG,CAAC,MAAM,CAAC,EAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC,IAAI,EAAE,IAAI,CAAC,IAAI,GAAG,OAAO,EAAC,CAAC,CAAC;GACxE,CAAC,CAAC;;AAEH,KAAG,CAAC,QAAQ,EAAE,CAAC;EACf,CAAC,CAAC;CACH,CAAC,CAAC","file":"server.js","sourcesContent":["'use strict';\n\nimport {execute} from './src/main';\n\nlet express = require('express');\nlet app = express();\nlet Archiver = require('archiver');\nlet fs = require('fs');\n\napp.listen(process.env.PORT || 3412);\n\n\napp.get('/parse/:id', function(req, res)\n{\n\tconsole.log(req.params.id);\n\tlet spreadsheet = [{id: req.params.id, name: 'test', cleanSpaces: false}];\n\n\t// Tell the browser that this is a zip file.\n\tres.writeHead(200, {\n\t\t'Content-Type': 'application/zip',\n\t\t'Content-disposition': 'attachment; filename=myFile.zip'\n\t});\n\n\tvar zip = Archiver('zip', {});\n\n\t// Send the file to the page output.\n\tzip.pipe(res);\n\n\texecute(spreadsheet, (fileUrls)=>{\n\t\tconsole.log(fileUrls);\n\t\tfileUrls.forEach(file => {\n\t\t\tzip.append(fs.createReadStream(file.path), {name: file.name + '.json'});\n\t\t});\n\n\t\tzip.finalize();\n\t});\n});"]}